jQuery(function ($) {
    const $wrapper = $('.areasItems .jet-listing-grid__items');
    if (!$wrapper.length || $wrapper.data('marquee-ready')) return;

    // Clone items for seamless looping
    const $items = $wrapper.children().clone(true);
    $wrapper.append($items);

    // Mark as ready (prevents double clone)
    $wrapper.data('marquee-ready', true);


    // Rewards animation

    const $slider = $('.flawlessAnimation .jet-listing-grid__items');

    if (!$slider.length || $slider.hasClass('slick-initialized')) return;

    // -------- CLONE UNTIL TRACK IS WIDE ENOUGH --------
    let totalWidth = 0;
    const viewport = $slider.outerWidth();

    $slider.children().each(function () {
        totalWidth += $(this).outerWidth(true);
    });

    // Clone until track is at least 2Ã— viewport
    while (totalWidth < viewport * 2) {
        const $clone = $slider.children().clone(true);
        $slider.append($clone);

        $clone.each(function () {
            totalWidth += $(this).outerWidth(true);
        });
    }

    // -------- INIT SLICK --------
    $slider.slick({
        infinite: true,
        arrows: false,
        dots: false,

        slidesToShow: 12,          // desktop behaves like marquee
        slidesToScroll: 1,

        autoplay: true,
        autoplaySpeed: 0,
        speed: 2000,
        cssEase: 'linear',

        pauseOnHover: false,
        pauseOnFocus: false,
        draggable: false,
        swipe: false,

        responsive: [
            {
                breakpoint: 1024,      // tablet
                settings: {
                    slidesToShow: 6
                }
            },
            {
                breakpoint: 768,       // mobile
                settings: {
                    slidesToShow: 3
                }
            }
        ]
    });

});